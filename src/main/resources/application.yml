# =============================================================================
# application.yml - Spring Boot 애플리케이션 설정 파일
# =============================================================================
#
# 이 파일의 역할:
# - 애플리케이션의 각종 설정값들을 정의합니다
# - 데이터베이스 연결 정보, 서버 포트, 파일 업로드 설정 등
#
# YAML 문법 기초:
# - 들여쓰기로 계층 구조를 표현합니다 (스페이스 2칸 권장, 탭 사용 금지!)
# - key: value 형태로 값을 설정합니다
# - 콜론(:) 뒤에 반드시 공백이 있어야 합니다
#
# 환경변수 사용법:
# - ${환경변수명:기본값} 형식으로 환경변수를 읽어올 수 있습니다
# - 환경변수가 없으면 기본값을 사용합니다
# =============================================================================

# -----------------------------------------------------------------------------
# Spring 기본 설정
# -----------------------------------------------------------------------------
spring:
  # 애플리케이션 이름 (로깅, 모니터링에서 식별용)
  application:
    name: video-streaming-tutorial

  # ---------------------------------------------------------------------------
  # 데이터베이스 설정
  # ---------------------------------------------------------------------------
  datasource:
    # H2 인메모리 데이터베이스 연결 URL
    # jdbc:h2:mem:videodb 의 의미:
    # - jdbc:h2 → H2 데이터베이스 사용
    # - mem → 메모리에 저장 (애플리케이션 종료 시 데이터 삭제)
    # - videodb → 데이터베이스 이름
    url: jdbc:h2:mem:videodb

    # H2 데이터베이스 드라이버 클래스
    driver-class-name: org.h2.Driver

    # 데이터베이스 접속 계정 (H2 기본값)
    username: sa
    password:

  # ---------------------------------------------------------------------------
  # H2 콘솔 설정 (개발용 DB 관리 도구)
  # ---------------------------------------------------------------------------
  h2:
    console:
      # H2 웹 콘솔 활성화 (브라우저에서 DB 조회 가능)
      enabled: true
      # 콘솔 접속 경로: http://localhost:8080/h2-console
      path: /h2-console

  # ---------------------------------------------------------------------------
  # JPA (Java Persistence API) 설정
  # ---------------------------------------------------------------------------
  jpa:
    hibernate:
      # DDL 자동 생성 전략
      # create-drop: 시작 시 테이블 생성, 종료 시 테이블 삭제
      # 개발 단계에서만 사용! 운영에서는 절대 사용하면 안 됨
      ddl-auto: create-drop

    # SQL 쿼리를 콘솔에 출력 (디버깅용)
    show-sql: true

    properties:
      hibernate:
        # SQL 쿼리를 보기 좋게 포맷팅
        format_sql: true

  # ---------------------------------------------------------------------------
  # 파일 업로드 설정
  # ---------------------------------------------------------------------------
  servlet:
    multipart:
      # 업로드 파일 하나의 최대 크기
      max-file-size: 500MB
      # 전체 요청의 최대 크기
      max-request-size: 500MB

# -----------------------------------------------------------------------------
# 커스텀 설정 (우리가 직접 정의한 설정)
# -----------------------------------------------------------------------------
file:
  # 업로드 파일 저장 경로
  # ${FILE_UPLOAD_DIR:./uploads} 의미:
  # - FILE_UPLOAD_DIR 환경변수가 있으면 그 값을 사용
  # - 없으면 ./uploads (현재 폴더 아래 uploads 폴더) 사용
  upload-dir: ${FILE_UPLOAD_DIR:./uploads}

# -----------------------------------------------------------------------------
# 서버 설정
# -----------------------------------------------------------------------------
server:
  # 서버 포트 (기본값: 8080)
  port: ${SERVER_PORT:8080}
